
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plotting &#8212; pynbody 1.0.0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Analysis" href="analysis.html" />

   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

<link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
<link href="_static/customise.css" rel="stylesheet">
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38063425-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="plotting">
<h1>Plotting<a class="headerlink" href="#plotting" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<span class="target" id="module-pynbody.plot.gas"></span><div class="section" id="gas">
<h2>gas<a class="headerlink" href="#gas" title="Permalink to this headline">¶</a></h2>
<p>Functions for plotting gas quantities</p>
<dl class="py function">
<dt id="pynbody.plot.gas.rho_T">
<code class="sig-prename descclassname">pynbody.plot.gas.</code><code class="sig-name descname">rho_T</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">rho_units</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rho_range</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">t_range</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">two_phase</span><span class="o">=</span><span class="default_value">'split'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/gas.html#rho_T"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.gas.rho_T" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot Temperature vs. Density for the gas particles in the snapshot.</p>
<p><strong>Optional keywords:</strong></p>
<blockquote>
<div><p><em>rho_units</em>: specify the density units (default is the same units as the current ‘rho’ array)</p>
<dl class="simple">
<dt><em>t_range</em>: list, array, or tuple</dt><dd><p><code class="docutils literal notranslate"><span class="pre">size(t_range)</span></code> must be 2. Specifies the temperature range.</p>
</dd>
<dt><em>rho_range:</em> tuple</dt><dd><p><code class="docutils literal notranslate"><span class="pre">size(rho_range)</span></code> must be 2. Specifies the density range.</p>
</dd>
</dl>
<p><em>two_phase</em>: if two-phase particles are detected, either plot each phase separately (‘split’), or merge them (‘merge’)</p>
</div></blockquote>
<p>See <a class="reference internal" href="#pynbody.plot.generic.hist2d" title="pynbody.plot.generic.hist2d"><code class="xref py py-func docutils literal notranslate"><span class="pre">hist2d()</span></code></a> for other plotting keyword options</p>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.gas.temp_profile">
<code class="sig-prename descclassname">pynbody.plot.gas.</code><code class="sig-name descname">temp_profile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">center</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">r_units</span><span class="o">=</span><span class="default_value">'kpc'</span></em>, <em class="sig-param"><span class="n">bin_spacing</span><span class="o">=</span><span class="default_value">'equaln'</span></em>, <em class="sig-param"><span class="n">clear</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/gas.html#temp_profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.gas.temp_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Centre on potential minimum, align so that the disk is in the
x-y plane, then plot the temperature profile as a
function of radius.</p>
</dd></dl>

</div>
<span class="target" id="module-pynbody.plot.generic"></span><div class="section" id="generic">
<h2>generic<a class="headerlink" href="#generic" title="Permalink to this headline">¶</a></h2>
<p>Flexible and general plotting functions</p>
<dl class="py function">
<dt id="pynbody.plot.generic.hist2d">
<code class="sig-prename descclassname">pynbody.plot.generic.</code><code class="sig-name descname">hist2d</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">xo</span></em>, <em class="sig-param"><span class="n">yo</span></em>, <em class="sig-param"><span class="n">weights</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mass</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gridsize</span><span class="o">=</span><span class="default_value">100, 100</span></em>, <em class="sig-param"><span class="n">nbins</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">make_plot</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/generic.html#hist2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.generic.hist2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot 2D histogram for arbitrary arrays that get passed in.</p>
<p><strong>Input:</strong></p>
<blockquote>
<div><p><em>x</em>: array</p>
<p><em>y</em>: array</p>
</div></blockquote>
<p><strong>Optional keywords:</strong></p>
<blockquote>
<div><dl class="simple">
<dt><em>x_range</em>: list, array, or tuple</dt><dd><p>size(x_range) must be 2. Specifies the X range.</p>
</dd>
<dt><em>y_range</em>: tuple</dt><dd><p>size(y_range) must be 2. Specifies the Y range.</p>
</dd>
<dt><em>gridsize</em>: (int, int) (default (100,100))</dt><dd><p>number of bins to use for the 2D histogram</p>
</dd>
<dt><em>nbins</em>: int</dt><dd><p>number of bins for the histogram - if specified, gridsize is set to (nbins,nbins)</p>
</dd>
<dt><em>nlevels</em>: int</dt><dd><p>number of levels to use for the contours</p>
</dd>
<dt><em>logscale</em>: boolean</dt><dd><p>whether to use log or linear spaced contours</p>
</dd>
<dt><em>weights</em>: numpy array of same length as x and y</dt><dd><p>if weights is passed, color corresponds to
the mean value of weights in each cell</p>
</dd>
<dt><em>mass</em>: numpy array of masses same length as x andy</dt><dd><p>must also have weights passed in.  If you just
want to weight by mass, pass the masses to weights</p>
</dd>
<dt><em>colorbar</em>: boolean</dt><dd><p>draw a colorbar</p>
</dd>
<dt><em>scalemin</em>: float</dt><dd><p>minimum value to use for the color scale</p>
</dd>
<dt><em>scalemax</em>: float</dt><dd><p>maximum value to use for the color scale</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.generic.gauss_kde">
<code class="sig-prename descclassname">pynbody.plot.generic.</code><code class="sig-name descname">gauss_kde</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">xo</span></em>, <em class="sig-param"><span class="n">yo</span></em>, <em class="sig-param"><span class="n">weights</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mass</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gridsize</span><span class="o">=</span><span class="default_value">100, 100</span></em>, <em class="sig-param"><span class="n">nbins</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">make_plot</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">nmin</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nmax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/generic.html#gauss_kde"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.generic.gauss_kde" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Plot 2D gaussian kernel density estimate (KDE) given values at points (<em>x</em>, <em>y</em>).</p>
<p>Behavior changes depending on which keywords are passed:</p>
<p>If a <em>weights</em> array is supplied, produce a weighted KDE.</p>
<p>If a <em>mass</em> array is supplied, a mass density is computed.</p>
<p>If both <em>weights</em> and <em>mass</em> are supplied, a mass-averaged KDE of the weights is
computed.</p>
<p>By default, norm=False is passed to <a class="reference internal" href="#pynbody.plot.util.fast_kde" title="pynbody.plot.util.fast_kde"><code class="xref py py-func docutils literal notranslate"><span class="pre">fast_kde()</span></code></a> meaning
that the result returned <em>is not</em> normalized such that the integral over the area
equals one.</p>
</div></blockquote>
<dl>
<dt>Since this function produces a density estimate, the units of the</dt><dd><p>output grid are different than for the output of
<a class="reference internal" href="#pynbody.plot.generic.hist2d" title="pynbody.plot.generic.hist2d"><code class="xref py py-func docutils literal notranslate"><span class="pre">hist2d()</span></code></a>. To get to the same units,
you must multiply by the size of the cells.</p>
<p><strong>Input:</strong></p>
<blockquote>
<div><p><em>xo</em>: array</p>
<p><em>yo</em>: array</p>
</div></blockquote>
<p><strong>Optional keywords:</strong></p>
<blockquote>
<div><dl class="simple">
<dt><em>mass</em>: numpy array of same length as x and y</dt><dd><p>particle masses to be used for weighting</p>
</dd>
<dt><em>weights</em>: numpy array of same length as x and y</dt><dd><p>if weights is passed, color corresponds to
the mean value of weights in each cell</p>
</dd>
<dt><em>nmin</em>: float (default None)</dt><dd><p>if <em>weights</em> and <em>mass</em> are both specified, the mass-weighted
contours are only drawn where the mass exceeds <em>nmin</em>.</p>
</dd>
<dt><em>gridsize</em>: (int, int) (default: 100,100)</dt><dd><p>size of grid for computing the density estimate</p>
</dd>
<dt><em>nbins</em>: int</dt><dd><p>number of bins for the histogram - if specified, gridsize is set to (nbins,nbins)</p>
</dd>
<dt><em>make_plot</em>: boolean (default: True)</dt><dd><p>whether or not to produce a plot</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Keywords passed to</strong> <a class="reference internal" href="#pynbody.plot.util.fast_kde" title="pynbody.plot.util.fast_kde"><code class="xref py py-func docutils literal notranslate"><span class="pre">fast_kde()</span></code></a>:</p>
<blockquote>
<div><dl class="simple">
<dt><em>norm</em>: boolean (default: False)</dt><dd><p>If False, the output is only corrected for the kernel. If True,
the result is normalized such that the integral over the area
yields 1.</p>
</dd>
<dt><em>nocorrelation</em>: (default: False) If True, the correlation</dt><dd><p>between the x and y coords will be ignored when preforming
the KDE.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Keywords passed to</strong> <a class="reference internal" href="#pynbody.plot.generic.make_contour_plot" title="pynbody.plot.generic.make_contour_plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_contour_plot()</span></code></a>:</p>
<blockquote>
<div><dl class="simple">
<dt><em>x_range</em>: list, array, or tuple</dt><dd><p>size(x_range) must be 2. Specifies the X range.</p>
</dd>
<dt><em>y_range</em>: tuple</dt><dd><p>size(y_range) must be 2. Specifies the Y range.</p>
</dd>
<dt><em>nlevels</em>: int</dt><dd><p>number of levels to use for the contours</p>
</dd>
<dt><em>logscale</em>: boolean</dt><dd><p>whether to use log or linear spaced contours</p>
</dd>
<dt><em>colorbar</em>: boolean</dt><dd><p>draw a colorbar</p>
</dd>
<dt><em>scalemin</em>: float</dt><dd><p>minimum value to use for the color scale</p>
</dd>
<dt><em>scalemax</em>: float</dt><dd><p>maximum value to use for the color scale</p>
</dd>
</dl>
</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.generic.make_contour_plot">
<code class="sig-prename descclassname">pynbody.plot.generic.</code><code class="sig-name descname">make_contour_plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arr</span></em>, <em class="sig-param"><span class="n">xs</span></em>, <em class="sig-param"><span class="n">ys</span></em>, <em class="sig-param"><span class="n">x_range</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y_range</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nlevels</span><span class="o">=</span><span class="default_value">20</span></em>, <em class="sig-param"><span class="n">logscale</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">xlogrange</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ylogrange</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">subplot</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">colorbar</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ret_im</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cmap</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">clear</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">legend</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">scalemin</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">levels</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">scalemax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/generic.html#make_contour_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.generic.make_contour_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a contour plot of grid <em>arr</em> corresponding to bin centers
specified by <em>xs</em> and <em>ys</em>.  Labels the axes and colobar with
proper units taken from x</p>
<p>Called by <a class="reference internal" href="#pynbody.plot.generic.hist2d" title="pynbody.plot.generic.hist2d"><code class="xref py py-func docutils literal notranslate"><span class="pre">hist2d()</span></code></a> and
<code class="xref py py-func docutils literal notranslate"><span class="pre">gauss_density()</span></code>.</p>
<p><strong>Input</strong>:</p>
<blockquote>
<div><p><em>arr</em>: 2D array to plot</p>
<p><em>xs</em>: x-coordinates of bins</p>
<p><em>ys</em>: y-coordinates of bins</p>
</div></blockquote>
<p><strong>Optional Keywords</strong>:</p>
<blockquote>
<div><dl class="simple">
<dt><em>x_range</em>: list, array, or tuple (default = None)</dt><dd><p>size(x_range) must be 2. Specifies the X range.</p>
</dd>
<dt><em>y_range</em>: tuple (default = None)</dt><dd><p>size(y_range) must be 2. Specifies the Y range.</p>
</dd>
<dt><em>xlogrange</em>: boolean (default = False)</dt><dd><p>whether the x-axis should have a log scale</p>
</dd>
<dt><em>ylogrange</em>: boolean (default = False)</dt><dd><p>whether the y-axis should have a log scale</p>
</dd>
<dt><em>nlevels</em>: int (default = 20)</dt><dd><p>number of levels to use for the contours</p>
</dd>
<dt><em>logscale</em>: boolean (default = True)</dt><dd><p>whether to use log or linear spaced contours</p>
</dd>
<dt><em>colorbar</em>: boolean (default = False)</dt><dd><p>draw a colorbar</p>
</dd>
<dt><em>scalemin</em>: float (default = arr.min())</dt><dd><p>minimum value to use for the color scale</p>
</dd>
<dt><em>scalemax</em>: float (default = arr.max())</dt><dd><p>maximum value to use for the color scale</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.generic.fourier_map">
<code class="sig-prename descclassname">pynbody.plot.generic.</code><code class="sig-name descname">fourier_map</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">nbins</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">nmin</span><span class="o">=</span><span class="default_value">1000</span></em>, <em class="sig-param"><span class="n">nphi</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">mmin</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">mmax</span><span class="o">=</span><span class="default_value">7</span></em>, <em class="sig-param"><span class="n">rmax</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">levels</span><span class="o">=</span><span class="default_value">[0.01, 0.05, 0.1, 0.2]</span></em>, <em class="sig-param"><span class="n">subplot</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ret</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/generic.html#fourier_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.generic.fourier_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot an overdensity map generated from a Fourier expansion of the
particle distribution. A <a class="reference internal" href="analysis.html#pynbody.analysis.profile.Profile" title="pynbody.analysis.profile.Profile"><code class="xref py py-func docutils literal notranslate"><span class="pre">Profile()</span></code></a>
is made and passed to <a class="reference internal" href="#pynbody.plot.util.inv_fourier" title="pynbody.plot.util.inv_fourier"><code class="xref py py-func docutils literal notranslate"><span class="pre">inv_fourier()</span></code></a> to
obtain an overdensity map. The map is plotted using the usual
matplotlib.contour.</p>
<p><strong>Input</strong>:</p>
<p><em>sim</em> :  a <a class="reference internal" href="essentials.html#pynbody.snapshot.SimSnap" title="pynbody.snapshot.SimSnap"><code class="xref py py-func docutils literal notranslate"><span class="pre">SimSnap()</span></code></a> object</p>
<p><strong>Optional Keywords</strong>:</p>
<p><em>nbins</em> (100) : number of radial bins to use for the profile</p>
<p><em>nmin</em> (1000) : minimum number of particles required per bin</p>
<p><em>nphi</em> (100)  : number of azimuthal bins to use for the map</p>
<p><em>mmin</em> (1)    : lowest multiplicity Fourier component</p>
<p><em>mmax</em> (7)    : highest multiplicity Fourier component</p>
<p><em>rmax</em> (10)   : maximum radius to use when generating the profile</p>
<p><em>levels</em> [0.01,0.05,0.1,0.2] : tuple of levels for plotting contours</p>
<p><em>subplot</em> (None) : Axes object on which to plot the contours</p>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.generic.prob_plot">
<code class="sig-prename descclassname">pynbody.plot.generic.</code><code class="sig-name descname">prob_plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">weight</span></em>, <em class="sig-param"><span class="n">nbins</span><span class="o">=</span><span class="default_value">100, 100</span></em>, <em class="sig-param"><span class="n">extent</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/generic.html#prob_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.generic.prob_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a plot of the probability of y given x, i.e. p(y|x). The
values are normalized such that the integral along each column is
one.</p>
<p><strong>Input</strong>:</p>
<p><em>x</em>: primary binning axis</p>
<p><em>y</em>: secondary binning axis</p>
<p><em>weight</em>: weights array</p>
<p><em>nbins</em>: tuple of length 2 specifying the number of bins in each direction</p>
<dl class="simple">
<dt><em>extent</em>: tuple of length 4 speciphysical extent of the axes</dt><dd><p>(xmin,xmax,ymin,ymax)</p>
</dd>
</dl>
<p><strong>Optional Keywords</strong>:</p>
<p>all optional keywords are passed on to the imshow() command</p>
</dd></dl>

</div>
<span class="target" id="module-pynbody.plot.metals"></span><div class="section" id="metals">
<h2>metals<a class="headerlink" href="#metals" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="pynbody.plot.metals.mdf">
<code class="sig-prename descclassname">pynbody.plot.metals.</code><code class="sig-name descname">mdf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">clear</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">range</span><span class="o">=</span><span class="default_value">[- 5, 0.3]</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/metals.html#mdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.metals.mdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Metallicity Distribution Function</p>
<p>Plots a metallicity distribution function to the best of
matplotlib’s abilities.  Unfortunately, the “normed” keyword is
buggy and does not return a PDF.  The “density” keyword should,
but it not yet supported in many versions of numpy.</p>
<p><strong>Usage:</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pynbody.plot</span> <span class="k">as</span> <span class="nn">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">mdf</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.metals.ofefeh">
<code class="sig-prename descclassname">pynbody.plot.metals.</code><code class="sig-name descname">ofefeh</code><span class="sig-paren">(</span><em class="sig-param">sim</em>, <em class="sig-param">fxn=&lt;function gauss_kde&gt;</em>, <em class="sig-param">filename=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/metals.html#ofefeh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.metals.ofefeh" title="Permalink to this definition">¶</a></dt>
<dd><p>Use <a class="reference internal" href="#pynbody.plot.generic.hist2d" title="pynbody.plot.generic.hist2d"><code class="xref py py-func docutils literal notranslate"><span class="pre">hist2d()</span></code></a> to make a [O/Fe] vs. [Fe/H] plot</p>
<p><strong>Input:</strong></p>
<p><em>sim</em>: snapshot to pull data from</p>
<p><strong>Optional Keywords:</strong></p>
<dl class="simple">
<dt><em>fxn</em>: a function with the same signature as functions</dt><dd><p><a class="reference internal" href="#pynbody.plot.generic.hist2d" title="pynbody.plot.generic.hist2d"><code class="xref py py-func docutils literal notranslate"><span class="pre">hist2d()</span></code></a> and
<a class="reference internal" href="#pynbody.plot.generic.gauss_kde" title="pynbody.plot.generic.gauss_kde"><code class="xref py py-func docutils literal notranslate"><span class="pre">gauss_kde()</span></code></a> in
<a class="reference internal" href="#module-pynbody.plot.generic" title="pynbody.plot.generic"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pynbody.plot.generic</span></code></a> default:
<a class="reference internal" href="#pynbody.plot.generic.hist2d" title="pynbody.plot.generic.hist2d"><code class="xref py py-func docutils literal notranslate"><span class="pre">pynbody.plot.generic.hist2d()</span></code></a></p>
</dd>
</dl>
<p>see <a class="reference internal" href="#pynbody.plot.generic.make_contour_plot" title="pynbody.plot.generic.make_contour_plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_contour_plot()</span></code></a> for other
plot-related keywords.</p>
</dd></dl>

</div>
<span class="target" id="module-pynbody.plot.profile"></span><div class="section" id="profile">
<h2>profile<a class="headerlink" href="#profile" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="pynbody.plot.profile.rotation_curve">
<code class="sig-prename descclassname">pynbody.plot.profile.</code><code class="sig-name descname">rotation_curve</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">center</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">r_units</span><span class="o">=</span><span class="default_value">'kpc'</span></em>, <em class="sig-param"><span class="n">v_units</span><span class="o">=</span><span class="default_value">'km s^-1'</span></em>, <em class="sig-param"><span class="n">disk_height</span><span class="o">=</span><span class="default_value">'100 pc'</span></em>, <em class="sig-param"><span class="n">nbins</span><span class="o">=</span><span class="default_value">50</span></em>, <em class="sig-param"><span class="n">bin_spacing</span><span class="o">=</span><span class="default_value">'equaln'</span></em>, <em class="sig-param"><span class="n">clear</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">quick</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">min</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">max</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">yrange</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">legend</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">parts</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/profile.html#rotation_curve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.profile.rotation_curve" title="Permalink to this definition">¶</a></dt>
<dd><p>Centre on potential minimum, align so that the disk is in the
x-y plane, then use the potential in that plane to generate and
plot a rotation curve.</p>
<p><strong>needs documentation/description of the keyword arguments</strong></p>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.profile.fourier_profile">
<code class="sig-prename descclassname">pynbody.plot.profile.</code><code class="sig-name descname">fourier_profile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">center</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">disk_height</span><span class="o">=</span><span class="default_value">'2 kpc'</span></em>, <em class="sig-param"><span class="n">nbins</span><span class="o">=</span><span class="default_value">50</span></em>, <em class="sig-param"><span class="n">pretime</span><span class="o">=</span><span class="default_value">'2 Gyr'</span></em>, <em class="sig-param"><span class="n">r_units</span><span class="o">=</span><span class="default_value">'kpc'</span></em>, <em class="sig-param"><span class="n">bin_spacing</span><span class="o">=</span><span class="default_value">'equaln'</span></em>, <em class="sig-param"><span class="n">clear</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">min</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">max</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/profile.html#fourier_profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.profile.fourier_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Centre on potential minimum, align so that the disk is in the
x-y plane, then plot the amplitude of the 2nd fourier mode as a 
function of radius.</p>
<p><strong>needs description of the keyword arguments</strong></p>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.profile.density_profile">
<code class="sig-prename descclassname">pynbody.plot.profile.</code><code class="sig-name descname">density_profile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">linestyle</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">center</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">clear</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">fit</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">in_units</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fit_factor</span><span class="o">=</span><span class="default_value">0.02</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/profile.html#density_profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.profile.density_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>3d density profile</p>
<p><strong>Options:</strong></p>
<p><em>filename</em> (None):  name of file to which to save output</p>
<p><strong>Usage:</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pynbody.plot</span> <span class="k">as</span> <span class="nn">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">halos</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">density_profile</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<span class="target" id="module-pynbody.plot.sph"></span><div class="section" id="sph">
<h2>sph<a class="headerlink" href="#sph" title="Permalink to this headline">¶</a></h2>
<p>routines for plotting smoothed quantities</p>
<dl class="py function">
<dt id="pynbody.plot.sph.sideon_image">
<code class="sig-prename descclassname">pynbody.plot.sph.</code><code class="sig-name descname">sideon_image</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/sph.html#sideon_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.sph.sideon_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate the simulation so that the disc of the passed halo is
side-on, then make an SPH image by passing the parameters into
the function image</p>
<p>For a description of keyword arguments see <a class="reference internal" href="#pynbody.plot.sph.image" title="pynbody.plot.sph.image"><code class="xref py py-func docutils literal notranslate"><span class="pre">image()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.sph.faceon_image">
<code class="sig-prename descclassname">pynbody.plot.sph.</code><code class="sig-name descname">faceon_image</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/sph.html#faceon_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.sph.faceon_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate the simulation so that the disc of the passed halo is
face-on, then make an SPH image by passing the parameters into
the function image</p>
<p>For a description of keyword arguments see <a class="reference internal" href="#pynbody.plot.sph.image" title="pynbody.plot.sph.image"><code class="xref py py-func docutils literal notranslate"><span class="pre">image()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.sph.velocity_image">
<code class="sig-prename descclassname">pynbody.plot.sph.</code><code class="sig-name descname">velocity_image</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">'10 kpc'</span></em>, <em class="sig-param"><span class="n">vector_color</span><span class="o">=</span><span class="default_value">'black'</span></em>, <em class="sig-param"><span class="n">edgecolor</span><span class="o">=</span><span class="default_value">'black'</span></em>, <em class="sig-param"><span class="n">quiverkey_bg_color</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">vector_resolution</span><span class="o">=</span><span class="default_value">40</span></em>, <em class="sig-param"><span class="n">scale</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'quiver'</span></em>, <em class="sig-param"><span class="n">key_x</span><span class="o">=</span><span class="default_value">0.3</span></em>, <em class="sig-param"><span class="n">key_y</span><span class="o">=</span><span class="default_value">0.9</span></em>, <em class="sig-param"><span class="n">key_color</span><span class="o">=</span><span class="default_value">'white'</span></em>, <em class="sig-param"><span class="n">key_length</span><span class="o">=</span><span class="default_value">'100 km s**-1'</span></em>, <em class="sig-param"><span class="n">quiverkey</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">density</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">vector_qty</span><span class="o">=</span><span class="default_value">'vel'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/sph.html#velocity_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.sph.velocity_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an SPH image of the given simulation with velocity vectors overlaid on top.</p>
<p>For a description of additional keyword arguments see <a class="reference internal" href="#pynbody.plot.sph.image" title="pynbody.plot.sph.image"><code class="xref py py-func docutils literal notranslate"><span class="pre">image()</span></code></a>,
or see the <a class="reference external" href="http://pynbody.github.io/pynbody/tutorials/pictures.html#velocity-vectors">tutorial</a>.</p>
<p><strong>Keyword arguments:</strong></p>
<p><em>vector_color</em> (black): The color for the velocity vectors</p>
<dl class="simple">
<dt><em>edgecolor</em> (black): edge color used for the lines - using a color</dt><dd><p>other than black for the <em>vector_color</em> and a black <em>edgecolor</em>
can result in poor readability in pdfs</p>
</dd>
</dl>
<p><em>vector_resolution</em> (40): How many vectors in each dimension (default is 40x40)</p>
<p><em>quiverkey_bg_color</em> (none): The color for the legend (scale) background</p>
<p><em>scale</em> (None): The length of a vector that would result in a displayed length of the
figure width/height.</p>
<p><em>mode</em> (‘quiver’): make a ‘quiver’ or ‘stream’ plot</p>
<p><em>key_x</em> (0.3): Display x (width) position for the vector key (quiver mode only)</p>
<p><em>key_y</em> (0.9): Display y (height) position for the vector key (quiver mode only)</p>
<p><em>key_color</em> (white): Color for the vector key (quiver mode only)</p>
<p><em>key_length</em> (100 km/s): Velocity to use for the vector key (quiver mode only)</p>
<p><em>density</em> (1.0): Density of stream lines (stream mode only)</p>
<p><em>quiverkey</em> (True): Whether or not to inset the key</p>
<p><em>vector_qty</em> (‘vel’): The name of the vector field to plot</p>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.sph.volume">
<code class="sig-prename descclassname">pynbody.plot.sph.</code><code class="sig-name descname">volume</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">qty</span><span class="o">=</span><span class="default_value">'rho'</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">200</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">1.0, 1.0, 1.0</span></em>, <em class="sig-param"><span class="n">vmin</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">vmax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dynamic_range</span><span class="o">=</span><span class="default_value">4.0</span></em>, <em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">create_figure</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/sph.html#volume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.sph.volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a volume rendering of the given simulation using mayavi.</p>
<p><strong>Keyword arguments:</strong></p>
<p><em>qty</em> (rho): The name of the array to interpolate</p>
<p><em>width</em> (None): The width of the cube to generate, centered on the origin</p>
<p><em>resolution</em> (200): The number of elements along each side of the cube</p>
<dl class="simple">
<dt><em>color</em> (white): The color of the volume rendering. The value of each voxel</dt><dd><p>is used to set the opacity.</p>
</dd>
</dl>
<p><em>vmin</em> (None): The value for zero opacity (calculated using dynamic_range if None)</p>
<dl class="simple">
<dt><em>vmax</em> (None): The value for full opacity (calculated from the maximum</dt><dd><p>value in the region if None)</p>
</dd>
</dl>
<p><em>dynamic_range</em>: The dynamic range to use if vmin and vmax are not specified</p>
<p><em>log</em> (True): log-scale the image before passing to mayavi</p>
<p><em>create_figure</em> (True): create a new mayavi figure before rendering</p>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.sph.contour">
<code class="sig-prename descclassname">pynbody.plot.sph.</code><code class="sig-name descname">contour</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/sph.html#contour"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.sph.contour" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an SPH image of the given simulation and render it as contours.
nlevels and levels are passed to pyplot’s contour command.</p>
<p>Other arguments are as for <em>image</em>.</p>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.sph.image">
<code class="sig-prename descclassname">pynbody.plot.sph.</code><code class="sig-name descname">image</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">qty</span><span class="o">=</span><span class="default_value">'rho'</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">'10 kpc'</span></em>, <em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">500</span></em>, <em class="sig-param"><span class="n">units</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">vmin</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">vmax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">av_z</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">z_camera</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">clear</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">cmap</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">qtytitle</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">show_cbar</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">subplot</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">noplot</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ret_im</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">fill_nan</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">fill_val</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">linthresh</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/sph.html#image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.sph.image" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an SPH image of the given simulation.</p>
<p><strong>Keyword arguments:</strong></p>
<p><em>qty</em> (rho): The name of the array to interpolate</p>
<dl class="simple">
<dt><em>width</em> (10 kpc): The overall width and height of the plot. If</dt><dd><p><code class="docutils literal notranslate"><span class="pre">width</span></code> is a float or an int, then it is assumed to be in units
of <code class="docutils literal notranslate"><span class="pre">sim['pos']</span></code>. It can also be passed in as a string
indicating the units, i.e. ‘10 kpc’, in which case it is
converted to units of <code class="docutils literal notranslate"><span class="pre">sim['pos']</span></code>.</p>
</dd>
</dl>
<p><em>resolution</em> (500): The number of pixels wide and tall</p>
<p><em>units</em> (None): The units of the output</p>
<dl class="simple">
<dt><em>av_z</em> (False): If True, the requested quantity is averaged down</dt><dd><p>the line of sight (default False: image is generated in
the thin plane z=0, unless output units imply an integral
down the line of sight). If a string, the requested quantity
is averaged down the line of sight weighted by the av_z
array (e.g. use ‘rho’ for density-weighted quantity;
the default results when av_z=True are volume-weighted).</p>
</dd>
<dt><em>z_camera</em> (None): If set, a perspective image is rendered. See</dt><dd><p><code class="xref py py-func docutils literal notranslate"><span class="pre">pynbody.sph.image()</span></code> for more details.</p>
</dd>
</dl>
<p><em>filename</em> (None): if set, the image will be saved in a file</p>
<p><em>clear</em> (True): whether to call clf() on the axes first</p>
<p><em>cmap</em> (None): user-supplied colormap instance</p>
<p><em>title</em> (None): plot title</p>
<p><em>qtytitle</em> (None): colorbar quantity title</p>
<p><em>show_cbar</em> (True): whether to plot the colorbar</p>
<p><em>subplot</em> (False): the user can supply a AxesSubPlot instance on
which the image will be shown</p>
<p><em>noplot</em> (False): do not display the image, just return the image array</p>
<p><em>ret_im</em> (False): return the image instance returned by imshow</p>
<p><em>num_threads</em> (None) : if set, specify the number of threads for
the multi-threaded routines; otherwise the pynbody.config default is used</p>
<p><em>fill_nan</em> (True): if any of the image values are NaN, replace with fill_val</p>
<p><em>fill_val</em> (0.0): the fill value to use when replacing NaNs</p>
<dl class="simple">
<dt><em>linthresh</em> (None): if the image has negative and positive values</dt><dd><p>and a log scaling is requested, the part between <cite>-linthresh</cite> and
<cite>linthresh</cite> is shown on a linear scale to avoid divergence at 0</p>
</dd>
</dl>
</dd></dl>

</div>
<span class="target" id="module-pynbody.plot.stars"></span><div class="section" id="stars">
<h2>stars<a class="headerlink" href="#stars" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="pynbody.plot.stars.render">
<code class="sig-prename descclassname">pynbody.plot.stars.</code><code class="sig-name descname">render</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">r_band</span><span class="o">=</span><span class="default_value">'i'</span></em>, <em class="sig-param"><span class="n">g_band</span><span class="o">=</span><span class="default_value">'v'</span></em>, <em class="sig-param"><span class="n">b_band</span><span class="o">=</span><span class="default_value">'u'</span></em>, <em class="sig-param"><span class="n">r_scale</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">g_scale</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">b_scale</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">dynamic_range</span><span class="o">=</span><span class="default_value">2.0</span></em>, <em class="sig-param"><span class="n">mag_range</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">50</span></em>, <em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">500</span></em>, <em class="sig-param"><span class="n">starsize</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">plot</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ret_im</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">clear</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">ret_range</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">with_dust</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">z_range</span><span class="o">=</span><span class="default_value">50.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/stars.html#render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a 3-color image of stars.</p>
<p>The colors are based on magnitudes found using stellar Marigo
stellar population code.  If with_dust is True, a simple dust
screening is applied.</p>
<p>Returns: If ret_im=True, an NxNx3 array representing an RGB image</p>
<p><strong>Optional keyword arguments:</strong></p>
<blockquote>
<div><dl class="simple">
<dt><em>filename</em>: string (default: None)</dt><dd><p>Filename to be written to (if a filename is specified)</p>
</dd>
<dt><em>r_band</em>: string (default: ‘i’)</dt><dd><p>Determines which Johnston filter will go into the image red channel</p>
</dd>
<dt><em>g_band</em>: string (default: ‘v’)</dt><dd><p>Determines which Johnston filter will go into the image green channel</p>
</dd>
<dt><em>b_band</em>: string (default: ‘b’)</dt><dd><p>Determines which Johnston filter will go into the image blue channel</p>
</dd>
<dt><em>r_scale</em>: float (default: 0.5)</dt><dd><p>The scaling of the red channel before channels are combined</p>
</dd>
<dt><em>g_scale</em>: float (default: 1.0)</dt><dd><p>The scaling of the green channel before channels are combined</p>
</dd>
<dt><em>b_scale</em>: float (default: 1.0)</dt><dd><p>The scaling of the blue channel before channels are combined</p>
</dd>
<dt><em>width</em>: float in kpc (default:50)</dt><dd><p>Sets the size of the image field in kpc</p>
</dd>
<dt><em>resolution</em>: integer (default: 500)</dt><dd><p>Sets the number of pixels on the side of the image</p>
</dd>
<dt><em>starsize</em>: float in kpc (default: None)</dt><dd><p>If not None, sets the maximum size of stars in the image</p>
</dd>
<dt><em>ret_im</em>: bool (default: False)</dt><dd><p>if True, the NxNx3 image array is returned</p>
</dd>
<dt><em>ret_range</em>: bool (default: False)</dt><dd><p>if True, the range of the image in mag arcsec^-2 is returned.</p>
</dd>
<dt><em>plot</em>: bool (default: True)</dt><dd><p>if True, the image is plotted</p>
</dd>
<dt><em>axes</em>: matplotlib axes object (deault: None)</dt><dd><p>if not None, the axes object to plot to</p>
</dd>
<dt><em>dynamic_range</em>: float (default: 2.0)</dt><dd><p>The number of dex in luminosity over which the image brightness ranges</p>
</dd>
<dt><em>mag_range</em>: float, float (default: None)</dt><dd><p>If provided, the brightest and faintest surface brightnesses in the range,
in mag arcsec^-2. Takes precedence over dynamic_range.</p>
</dd>
<dt><em>with_dust</em>: bool, (default: False) </dt><dd><p>If True, the image is rendered with a simple dust screening model
based on Calzetti’s law.</p>
</dd>
<dt><em>z_range</em>: float, (default: 50.0)</dt><dd><p>If with_dust is True this parameter specifies the z range
over which the column density will be calculated.
The default value is 50 kpc.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.stars.mollview">
<code class="sig-prename descclassname">pynbody.plot.stars.</code><code class="sig-name descname">mollview</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">map</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fig</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">plot</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">filenme</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rot</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">coord</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">xsize</span><span class="o">=</span><span class="default_value">800</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">'Mollweide view'</span></em>, <em class="sig-param"><span class="n">nest</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">min</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">flip</span><span class="o">=</span><span class="default_value">'astro'</span></em>, <em class="sig-param"><span class="n">remove_dip</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">remove_mono</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gal_cut</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">format</span><span class="o">=</span><span class="default_value">'%g'</span></em>, <em class="sig-param"><span class="n">format2</span><span class="o">=</span><span class="default_value">'%g'</span></em>, <em class="sig-param"><span class="n">cbar</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">cmap</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">notext</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">norm</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">hold</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">margins</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sub</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">return_projected_map</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/stars.html#mollview"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.mollview" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Plot an healpix map (given as an array) in Mollweide projection.</dt><dd><p>Requires the healpy package.</p>
<p>This function is taken from the Healpy package and slightly modified.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>map</strong><span class="classifier">float, array-like or None</span></dt><dd><p>An array containing the map, supports masked maps, see the <cite>ma</cite> function.
If None, will display a blank map, useful for overplotting.</p>
</dd>
<dt><strong>fig</strong><span class="classifier">figure object or None, optional</span></dt><dd><p>The figure to use. Default: create a new figure</p>
</dd>
<dt><strong>plot</strong><span class="classifier">bool (default: False)</span></dt><dd><p>if True the image is plotted</p>
</dd>
<dt><strong>filename</strong><span class="classifier">string (default: None)</span></dt><dd><p>Filename to be written to (if a filename is specified)</p>
</dd>
<dt><strong>rot</strong><span class="classifier">scalar or sequence, optional</span></dt><dd><p>Describe the rotation to apply.
In the form (lon, lat, psi) (unit: degrees) : the point at
longitude <em>lon</em> and latitude <em>lat</em> will be at the center. An additional rotation
of angle <em>psi</em> around this direction is applied.</p>
</dd>
<dt><strong>coord</strong><span class="classifier">sequence of character, optional</span></dt><dd><p>Either one of ‘G’, ‘E’ or ‘C’ to describe the coordinate
system of the map, or a sequence of 2 of these to rotate
the map from the first to the second coordinate system.</p>
</dd>
<dt><strong>unit</strong><span class="classifier">str, optional</span></dt><dd><p>A text describing the unit of the data. Default: ‘’</p>
</dd>
<dt><strong>xsize</strong><span class="classifier">int, optional</span></dt><dd><p>The size of the image. Default: 800</p>
</dd>
<dt><strong>title</strong><span class="classifier">str, optional</span></dt><dd><p>The title of the plot. Default: ‘Mollweide view’</p>
</dd>
<dt><strong>nest</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, ordering scheme is NESTED. Default: False (RING)</p>
</dd>
<dt><strong>min</strong><span class="classifier">float, optional</span></dt><dd><p>The minimum range value</p>
</dd>
<dt><strong>max</strong><span class="classifier">float, optional</span></dt><dd><p>The maximum range value</p>
</dd>
<dt><strong>flip</strong><span class="classifier">{‘astro’, ‘geo’}, optional</span></dt><dd><p>Defines the convention of projection : ‘astro’ (default, east towards left, west towards right)
or ‘geo’ (east towards right, west towards left)</p>
</dd>
<dt><strong>remove_dip</strong><span class="classifier">bool, optional</span></dt><dd><p>If <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code>, remove the dipole+monopole</p>
</dd>
<dt><strong>remove_mono</strong><span class="classifier">bool, optional</span></dt><dd><p>If <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code>, remove the monopole</p>
</dd>
<dt><strong>gal_cut</strong><span class="classifier">float, scalar, optional</span></dt><dd><p>Symmetric galactic cut for the dipole/monopole fit.
Removes points in latitude range [-gal_cut, +gal_cut]</p>
</dd>
<dt><strong>format</strong><span class="classifier">str, optional</span></dt><dd><p>The format of the scale label. Default: ‘%g’</p>
</dd>
<dt><strong>format2</strong><span class="classifier">str, optional</span></dt><dd><p>Format of the pixel value under mouse. Default: ‘%g’</p>
</dd>
<dt><strong>cbar</strong><span class="classifier">bool, optional</span></dt><dd><p>Display the colorbar. Default: True</p>
</dd>
<dt><strong>notext</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, no text is printed around the map</p>
</dd>
<dt><strong>norm</strong><span class="classifier">{‘hist’, ‘log’, None}</span></dt><dd><p>Color normalization, hist= histogram equalized color mapping,
log= logarithmic color mapping, default: None (linear color mapping)</p>
</dd>
<dt><strong>hold</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, replace the current Axes by a MollweideAxes.
use this if you want to have multiple maps on the same
figure. Default: False</p>
</dd>
<dt><strong>sub</strong><span class="classifier">int, scalar or sequence, optional</span></dt><dd><p>Use only a zone of the current figure (same syntax as subplot).
Default: None</p>
</dd>
<dt><strong>margins</strong><span class="classifier">None or sequence, optional</span></dt><dd><p>Either None, or a sequence (left,bottom,right,top)
giving the margins on left,bottom,right and top
of the axes. Values are relative to figure (0-1).
Default: None</p>
</dd>
<dt><strong>return_projected_map</strong><span class="classifier">bool</span></dt><dd><p>if True returns the projected map in a 2d numpy array</p>
</dd>
<dt><strong>See Also</strong></dt><dd></dd>
<dt><strong>——–</strong></dt><dd></dd>
<dt><strong>gnomview, cartview, orthview, azeqview</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.stars.render_mollweide">
<code class="sig-prename descclassname">pynbody.plot.stars.</code><code class="sig-name descname">render_mollweide</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">r_band</span><span class="o">=</span><span class="default_value">'i'</span></em>, <em class="sig-param"><span class="n">g_band</span><span class="o">=</span><span class="default_value">'v'</span></em>, <em class="sig-param"><span class="n">b_band</span><span class="o">=</span><span class="default_value">'u'</span></em>, <em class="sig-param"><span class="n">r_scale</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">g_scale</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">b_scale</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">dynamic_range</span><span class="o">=</span><span class="default_value">2.0</span></em>, <em class="sig-param"><span class="n">mag_range</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">25</span></em>, <em class="sig-param"><span class="n">nside</span><span class="o">=</span><span class="default_value">128</span></em>, <em class="sig-param"><span class="n">starsize</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">plot</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ret_im</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">clear</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">ret_range</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/stars.html#render_mollweide"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.render_mollweide" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a 3-color all-sky image of stars in a mollweide projection.
Adapted from the function pynbody.plot.stars.render</p>
<p>The colors are based on magnitudes found using stellar Marigo
stellar population code.  However there is no radiative transfer
to account for dust.</p>
<p>Returns: If ret_im=True, an NxNx3 array representing an RGB image</p>
<p><strong>Optional keyword arguments:</strong></p>
<blockquote>
<div><dl class="simple">
<dt><em>filename</em>: string (default: None)</dt><dd><p>Filename to be written to (if a filename is specified)</p>
</dd>
<dt><em>r_band</em>: string (default: ‘i’)</dt><dd><p>Determines which Johnston filter will go into the image red channel</p>
</dd>
<dt><em>g_band</em>: string (default: ‘v’)</dt><dd><p>Determines which Johnston filter will go into the image green channel</p>
</dd>
<dt><em>b_band</em>: string (default: ‘b’)</dt><dd><p>Determines which Johnston filter will go into the image blue channel</p>
</dd>
<dt><em>r_scale</em>: float (default: 0.5)</dt><dd><p>The scaling of the red channel before channels are combined</p>
</dd>
<dt><em>g_scale</em>: float (default: 1.0)</dt><dd><p>The scaling of the green channel before channels are combined</p>
</dd>
<dt><em>b_scale</em>: float (default: 1.0)</dt><dd><p>The scaling of the blue channel before channels are combined</p>
</dd>
<dt><em>width</em>: float in kpc (default:50)</dt><dd><p>Sets the size of the image field in kpc</p>
</dd>
<dt><em>starsize</em>: float in kpc (default: None)</dt><dd><p>If not None, sets the maximum size of stars in the image</p>
</dd>
<dt><em>ret_im</em>: bool (default: False)</dt><dd><p>if True, the NxNx3 image array is returned</p>
</dd>
<dt><em>ret_range</em>: bool (default: False)</dt><dd><p>if True, the range of the image in mag arcsec^-2 is returned.</p>
</dd>
<dt><em>plot</em>: bool (default: True)</dt><dd><p>if True, the image is plotted</p>
</dd>
<dt><em>axes</em>: matplotlib axes object (deault: None)</dt><dd><p>if not None, the axes object to plot to</p>
</dd>
<dt><em>dynamic_range</em>: float (default: 2.0)</dt><dd><p>The number of dex in luminosity over which the image brightness ranges</p>
</dd>
<dt><em>mag_range</em>: float, float (default: None)</dt><dd><p>If provided, the brightest and faintest surface brightnesses in the range,
in mag arcsec^-2. Takes precedence over dynamic_range.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.stars.sfh">
<code class="sig-prename descclassname">pynbody.plot.stars.</code><code class="sig-name descname">sfh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">massform</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">clear</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">legend</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">subplot</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">trange</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">bins</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/stars.html#sfh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.sfh" title="Permalink to this definition">¶</a></dt>
<dd><p>star formation history</p>
<p><strong>Optional keyword arguments:</strong></p>
<blockquote>
<div><dl class="simple">
<dt><em>trange</em>: list, array, or tuple</dt><dd><p>size(t_range) must be 2. Specifies the time range.</p>
</dd>
<dt><em>bins</em>: int</dt><dd><p>number of bins to use for the SFH</p>
</dd>
<dt><em>massform</em>: bool</dt><dd><p>decides whether to use original star mass (massform) or final star mass</p>
</dd>
<dt><em>subplot</em>: subplot object</dt><dd><p>where to plot SFH</p>
</dd>
<dt><em>legend</em>: boolean</dt><dd><p>whether to draw a legend or not</p>
</dd>
<dt><em>clear</em>: boolean</dt><dd><p>if False (default), plot on the current axes. Otherwise, clear the figure first.</p>
</dd>
</dl>
</div></blockquote>
<p>By default, sfh will use the formation mass of the star.  In tipsy, this will be
taken from the starlog file.  Set massform=False if you want the final (observed)
star formation history</p>
<p><strong>Usage:</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pynbody.plot</span> <span class="k">as</span> <span class="nn">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">sfh</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.stars.schmidtlaw">
<code class="sig-prename descclassname">pynbody.plot.stars.</code><code class="sig-name descname">schmidtlaw</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">center</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pretime</span><span class="o">=</span><span class="default_value">'50 Myr'</span></em>, <em class="sig-param"><span class="n">diskheight</span><span class="o">=</span><span class="default_value">'3 kpc'</span></em>, <em class="sig-param"><span class="n">rmax</span><span class="o">=</span><span class="default_value">'20 kpc'</span></em>, <em class="sig-param"><span class="n">compare</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">radial</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">clear</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">legend</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">bins</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/stars.html#schmidtlaw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.schmidtlaw" title="Permalink to this definition">¶</a></dt>
<dd><p>Schmidt Law</p>
<p>Plots star formation surface density vs. gas surface density including
the observed relationships.  Currently, only plots densities found in
radial annuli.</p>
<p><strong>Usage:</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pynbody.plot</span> <span class="k">as</span> <span class="nn">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">schmidtlaw</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p><strong>Optional keyword arguments:</strong></p>
<blockquote>
<div><dl class="simple">
<dt><em>center</em>: bool</dt><dd><p>center and align the input simulation faceon.</p>
</dd>
<dt><em>filename</em>: string</dt><dd><p>Name of output file</p>
</dd>
</dl>
<p><em>pretime</em> (default=’50 Myr’): age of stars to consider for SFR</p>
<dl class="simple">
<dt><em>diskheight</em> (default=’3 kpc’): height of gas and stars above</dt><dd><p>and below disk considered for SF and gas densities.</p>
</dd>
</dl>
<p><em>rmax</em> (default=’20 kpc’): radius of disk considered</p>
<dl class="simple">
<dt><em>compare</em> (default=True):  whether to include Kennicutt (1998) and</dt><dd><p>Bigiel+ (2008) for comparison</p>
</dd>
</dl>
<p><em>radial</em> (default=True):  should bins be annuli or a rectangular grid?</p>
<p><em>bins</em> (default=10):  How many radial bins should there be?</p>
<dl class="simple">
<dt><em>legend</em>: boolean</dt><dd><p>whether to draw a legend or not</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.stars.oneschmidtlawpoint">
<code class="sig-prename descclassname">pynbody.plot.stars.</code><code class="sig-name descname">oneschmidtlawpoint</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">center</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">pretime</span><span class="o">=</span><span class="default_value">'50 Myr'</span></em>, <em class="sig-param"><span class="n">diskheight</span><span class="o">=</span><span class="default_value">'3 kpc'</span></em>, <em class="sig-param"><span class="n">rmax</span><span class="o">=</span><span class="default_value">'20 kpc'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/stars.html#oneschmidtlawpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.oneschmidtlawpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>One Schmidt Law Point</p>
<p>Determines values for star formation surface density and gas surface
density for the entire galaxy based on the half mass cold gas radius.</p>
<p><strong>Usage:</strong>
import pynbody.plot as pp
pp.oneschmidtlawpoint(h[1])</p>
<blockquote>
<div><p><em>pretime</em> (default=’50 Myr’): age of stars to consider for SFR</p>
<dl class="simple">
<dt><em>diskheight</em> (default=’3 kpc’): height of gas and stars above</dt><dd><p>and below disk considered for SF and gas densities.</p>
</dd>
</dl>
<p><em>rmax</em> (default=’20 kpc’): radius of disk considered</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.stars.satlf">
<code class="sig-prename descclassname">pynbody.plot.stars.</code><code class="sig-name descname">satlf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">band</span><span class="o">=</span><span class="default_value">'v'</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">MWcompare</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">Trentham</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">clear</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">legend</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">label</span><span class="o">=</span><span class="default_value">'Simulation'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/stars.html#satlf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.satlf" title="Permalink to this definition">¶</a></dt>
<dd><p>satellite luminosity function</p>
<p><strong>Options:</strong></p>
<p><em>band</em> (‘v’): which Johnson band to use. available filters: U, B,
V, R, I, J, H, K</p>
<p><em>filename</em> (None): name of file to which to save output</p>
<p><em>MWcompare</em> (True): whether to plot comparison lines to MW</p>
<dl class="simple">
<dt><em>Trentham</em> (True): whether to plot comparison lines to Trentham +</dt><dd><p>Tully (2009) combined with Koposov et al (2007)</p>
</dd>
</dl>
<p>By default, satlf will use the formation mass of the star.  In
tipsy, this will be taken from the starlog file.</p>
<p><strong>Usage:</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pynbody.plot</span> <span class="k">as</span> <span class="nn">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">halos</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">satlf</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.stars.sbprofile">
<code class="sig-prename descclassname">pynbody.plot.stars.</code><code class="sig-name descname">sbprofile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sim</span></em>, <em class="sig-param"><span class="n">band</span><span class="o">=</span><span class="default_value">'v'</span></em>, <em class="sig-param"><span class="n">diskheight</span><span class="o">=</span><span class="default_value">'3 kpc'</span></em>, <em class="sig-param"><span class="n">rmax</span><span class="o">=</span><span class="default_value">'20 kpc'</span></em>, <em class="sig-param"><span class="n">binning</span><span class="o">=</span><span class="default_value">'equaln'</span></em>, <em class="sig-param"><span class="n">center</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">clear</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">fit_exp</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">print_ylabel</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">fit_sersic</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/stars.html#sbprofile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.sbprofile" title="Permalink to this definition">¶</a></dt>
<dd><p>surface brightness profile</p>
<p><strong>Usage:</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pynbody.plot</span> <span class="k">as</span> <span class="nn">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">halos</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">sbprofile</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">exp_fit</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Options:</strong></p>
<dl class="simple">
<dt><em>band</em> (‘v’): which Johnson band to use. available filters: U, B,</dt><dd><p>V, R, I, J, H, K</p>
</dd>
</dl>
<p><a href="#id1"><span class="problematic" id="id2">*</span></a>fit_exp*(False): Fits straight exponential line outside radius specified.</p>
<p><a href="#id3"><span class="problematic" id="id4">*</span></a>fit_sersic*(False): Fits Sersic profile outside radius specified.</p>
<p><em>diskheight(‘3 kpc’)</em>
<em>rmax(‘20 kpc’)</em>:  Size of disk to be profiled</p>
<dl class="simple">
<dt><em>binning(‘equaln’)</em>:  How show bin sizes be determined? based on</dt><dd><p>pynbody.analysis.profile</p>
</dd>
</dl>
<p><em>center(True)</em>:  Automatically align face on and center?</p>
<p><em>axes(False)</em>: In which axes (subplot) should it be plotted?</p>
<p><em>filename</em> (None): name of file to which to save output</p>
<p><strong>needs a description of all keywords</strong></p>
<p>By default, sbprof will use the formation mass of the star.
In tipsy, this will be taken from the starlog file.</p>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.stars.behroozi">
<code class="sig-prename descclassname">pynbody.plot.stars.</code><code class="sig-name descname">behroozi</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">xmasses</span></em>, <em class="sig-param"><span class="n">z</span></em>, <em class="sig-param"><span class="n">alpha</span><span class="o">=</span><span class="default_value">- 1.412</span></em>, <em class="sig-param"><span class="n">Kravtsov</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/stars.html#behroozi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.behroozi" title="Permalink to this definition">¶</a></dt>
<dd><p>Based on Behroozi+ (2013) return what stellar mass corresponds to the
halo mass passed in.</p>
<p><strong>Usage</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pynbody.plot.stars</span> <span class="kn">import</span> <span class="n">moster</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xmasses</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">totmasshalos</span><span class="p">)),</span><span class="mi">1</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">totmasshalos</span><span class="p">)),</span><span class="mi">20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ystarmasses</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">moster</span><span class="p">(</span><span class="n">xmasses</span><span class="p">,</span><span class="n">halo_catalog</span><span class="o">.</span><span class="n">_halos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">xmasses</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ystarmasses</span><span class="p">)</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">errors</span><span class="p">),</span>
<span class="go">                                      y2=np.array(ystarmasses)*np.array(errors),</span>
<span class="go">                                      facecolor=&#39;#BBBBBB&#39;,color=&#39;#BBBBBB&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.stars.moster">
<code class="sig-prename descclassname">pynbody.plot.stars.</code><code class="sig-name descname">moster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">xmasses</span></em>, <em class="sig-param"><span class="n">z</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/stars.html#moster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.moster" title="Permalink to this definition">¶</a></dt>
<dd><p>Based on Moster+ (2013) return what stellar mass corresponds to the
halo mass passed in.</p>
<p><strong>Usage</strong></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pynbody.plot.stars</span> <span class="kn">import</span> <span class="n">moster</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xmasses</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">totmasshalos</span><span class="p">)),</span><span class="mi">1</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">totmasshalos</span><span class="p">)),</span><span class="mi">20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ystarmasses</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">moster</span><span class="p">(</span><span class="n">xmasses</span><span class="p">,</span><span class="n">halo_catalog</span><span class="o">.</span><span class="n">_halos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">xmasses</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ystarmasses</span><span class="p">)</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">errors</span><span class="p">),</span>
<span class="go">                                      y2=np.array(ystarmasses)*np.array(errors),</span>
<span class="go">                                      facecolor=&#39;#BBBBBB&#39;,color=&#39;#BBBBBB&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.stars.hudson">
<code class="sig-prename descclassname">pynbody.plot.stars.</code><code class="sig-name descname">hudson</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">xmasses</span></em>, <em class="sig-param"><span class="n">z</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/stars.html#hudson"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.hudson" title="Permalink to this definition">¶</a></dt>
<dd><p>Based on Hudson+ (2014), returns what stellar mass corresponds to the  
halo mass passed in.  This is the only SMHMR function that is not based 
on abundance matching, but instead uses date from CFHTLenS galaxy lensing data.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pynbody.plot.stars</span> <span class="kn">import</span> <span class="n">hudson</span>    
<span class="gp">&gt;&gt;&gt; </span><span class="n">xmasses</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">totmasshalos</span><span class="p">)),</span><span class="mi">1</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">totmasshalos</span><span class="p">)),</span><span class="mi">20</span><span class="p">)</span>      
<span class="gp">&gt;&gt;&gt; </span><span class="n">ystarmasses</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">hudson</span><span class="p">(</span><span class="n">xmasses</span><span class="p">,</span><span class="n">halo_catalog</span><span class="o">.</span><span class="n">_halos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">])</span>     
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">xmasses</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ystarmasses</span><span class="p">)</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">errors</span><span class="p">),</span> 
<span class="go">                  y2=np.array(ystarmasses)*np.array(errors), </span>
<span class="go">                  facecolor=&#39;#BBBBBB&#39;,color=&#39;#BBBBBB&#39;)       </span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.stars.subfindguo">
<code class="sig-prename descclassname">pynbody.plot.stars.</code><code class="sig-name descname">subfindguo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">halo_catalog</span></em>, <em class="sig-param"><span class="n">clear</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">compare</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">baryfrac</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/stars.html#subfindguo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.subfindguo" title="Permalink to this definition">¶</a></dt>
<dd><p>Stellar Mass vs. Halo Mass</p>
<p>Takes a halo catalogue and plots the member stellar masses as a
function of halo mass.</p>
<p>Usage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pynbody.plot</span> <span class="k">as</span> <span class="nn">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">halos</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">guo</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="p">,</span><span class="n">markerfacecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Options:</strong></p>
<dl class="simple">
<dt><em>compare</em> (True): Should comparison line be plotted?</dt><dd><p>If compare = ‘guo’, Guo+ (2010) plotted instead of Behroozi+ (2013)</p>
</dd>
</dl>
<p><em>baryfrac</em> (False):  Should line be drawn for cosmic baryon fraction?</p>
<p><em>filename</em> (None): name of file to which to save output</p>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.stars.guo">
<code class="sig-prename descclassname">pynbody.plot.stars.</code><code class="sig-name descname">guo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">halo_catalog</span></em>, <em class="sig-param"><span class="n">clear</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">compare</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">baryfrac</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/stars.html#guo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.guo" title="Permalink to this definition">¶</a></dt>
<dd><p>Stellar Mass vs. Halo Mass</p>
<p>Takes a halo catalogue and plots the member stellar masses as a
function of halo mass.</p>
<p>Usage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pynbody.plot</span> <span class="k">as</span> <span class="nn">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">halos</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">guo</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="p">,</span><span class="n">markerfacecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Options:</strong></p>
<dl class="simple">
<dt><em>compare</em> (True): Should comparison line be plotted?</dt><dd><p>If compare = ‘guo’, Guo+ (2010) plotted instead of Behroozi+ (2013)</p>
</dd>
</dl>
<p><em>baryfrac</em> (False):  Should line be drawn for cosmic baryon fraction?</p>
<p><em>filename</em> (None): name of file to which to save output</p>
</dd></dl>

</div>
<span class="target" id="module-pynbody.plot.util"></span><div class="section" id="util">
<h2>util<a class="headerlink" href="#util" title="Permalink to this headline">¶</a></h2>
<p>Utility functions for the plotting module</p>
<dl class="py function">
<dt id="pynbody.plot.util.fast_kde">
<code class="sig-prename descclassname">pynbody.plot.util.</code><code class="sig-name descname">fast_kde</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">kern_nx</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">kern_ny</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gridsize</span><span class="o">=</span><span class="default_value">100, 100</span></em>, <em class="sig-param"><span class="n">extents</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nocorrelation</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">weights</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">norm</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/util.html#fast_kde"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.util.fast_kde" title="Permalink to this definition">¶</a></dt>
<dd><p>A faster gaussian kernel density estimate (KDE).  Intended for
computing the KDE on a regular grid (different use case than
scipy’s original scipy.stats.kde.gaussian_kde()).</p>
<p>Author: Joe Kington
License:  MIT License &lt;<a class="reference external" href="http://www.opensource.org/licenses/mit-license.php">http://www.opensource.org/licenses/mit-license.php</a>&gt;</p>
<p>Performs a gaussian kernel density estimate over a regular grid using a
convolution of the gaussian kernel with a 2D histogram of the data.</p>
<p>This function is typically several orders of magnitude faster than 
scipy.stats.kde.gaussian_kde for large (&gt;1e7) numbers of points and 
produces an essentially identical result.</p>
<p><strong>Input</strong>:</p>
<blockquote>
<div><dl class="simple">
<dt><em>x</em>: array</dt><dd><p>The x-coords of the input data points</p>
</dd>
<dt><em>y</em>: array</dt><dd><p>The y-coords of the input data points</p>
</dd>
<dt><em>kern_nx</em>: float </dt><dd><p>size (in units of <em>x</em>) of the kernel</p>
</dd>
<dt><em>kern_ny</em>: float</dt><dd><p>size (in units of <em>y</em>) of the kernel</p>
</dd>
<dt><em>gridsize</em>: (Nx , Ny) tuple (default: 200x200) </dt><dd><p>Size of the output grid</p>
</dd>
<dt><em>extents</em>: (default: extent of input data) A (xmin, xmax, ymin, ymax)</dt><dd><p>tuple of the extents of output grid</p>
</dd>
<dt><em>nocorrelation</em>: (default: False) If True, the correlation between the</dt><dd><p>x and y coords will be ignored when preforming the KDE.</p>
</dd>
<dt><em>weights</em>: (default: None) An array of the same shape as x &amp; y that </dt><dd><p>weighs each sample (x_i, y_i) by each value in weights (w_i).
Defaults to an array of ones the same size as x &amp; y.</p>
</dd>
<dt><em>norm</em>: boolean (default: False) </dt><dd><p>If False, the output is only corrected for the kernel. If True,
the result is normalized such that the integral over the area 
yields 1.</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt><strong>Output</strong>:</dt><dd><p>A gridded 2D kernel density estimate of the input points.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pynbody.plot.util.inv_fourier">
<code class="sig-prename descclassname">pynbody.plot.util.</code><code class="sig-name descname">inv_fourier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">p</span></em>, <em class="sig-param"><span class="n">nmin</span><span class="o">=</span><span class="default_value">1000</span></em>, <em class="sig-param"><span class="n">mmin</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">mmax</span><span class="o">=</span><span class="default_value">7</span></em>, <em class="sig-param"><span class="n">nphi</span><span class="o">=</span><span class="default_value">100</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/plot/util.html#inv_fourier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.util.inv_fourier" title="Permalink to this definition">¶</a></dt>
<dd><p>Invert a profile with fourier coefficients to yield an overdensity
map.</p>
<p><strong>Inputs:</strong></p>
<p><em>p</em> : a <a class="reference internal" href="analysis.html#pynbody.analysis.profile.Profile" title="pynbody.analysis.profile.Profile"><code class="xref py py-func docutils literal notranslate"><span class="pre">Profile()</span></code></a> object</p>
<p><strong>Optional Keywords:</strong></p>
<p><em>nmin</em> (1000) : minimum number of particles required per bin</p>
<p><em>mmin</em> (1)    : lowest multiplicity Fourier component</p>
<p><em>mmax</em> (7)    : highest multiplicity Fourier component</p>
<p><em>nphi</em> (100)  : number of azimuthal bins to use for the map</p>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo.svg" alt="Logo"/>
    
  </a>
</p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorials.html">Tutorials &amp; walkthroughs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Pynbody reference documentation</a><ul>
      <li>Previous: <a href="analysis.html" title="previous chapter">Analysis</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2011-20, pynbody team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/reference/plot.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>